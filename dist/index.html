<!doctype html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Public Health Malaysia - EforEffect</title>
    <link rel="icon" href="./favicon.ico?v=3" />
    <!--Style for this website-->
    <link rel="stylesheet" href="./css/style.css" />
    <!--Style for the map itself -->
    <link rel="stylesheet" type="text/css" href="https://unpkg.com/leaflet@1.3.3/dist/leaflet.css" />
    <link rel="stylesheet" type="text/css" href="./css/leaflet-areaselect.css"/>

    <!-- Bootstrap, bundled by webpack -->
    <script src="./bundle.js"></script>

    <!-- Main tangram library -->
    <script src="https://unpkg.com/tangram/dist/tangram.min.js"></script>
    <!-- leaflet.js. Dependency for leaflet-areaselect -->
    <script src="https://unpkg.com/leaflet@1.3.3/dist/leaflet.js"></script>

    <!--leaflet-areaselect allows drawing a bounding box to count no of features in area x-->
    <script type='text/javascript' src='./js/leaflet-areaselect.js'></script>
    <script src="./js/spin.min.js"></script>
    <script src="./js/leaflet.spin.min.js"></script>
   
  </head>
  <body class='container'>
    <h1>Public Healthcare in Malaysia</h1>    
    <div class="mapContainer">
        <div id="map"></div>
    </div>
    <div>**Refresh page to reset. Click to open description</div>

    <!--
    <div id="controls">
        <div id="solar" class="on" onclick="toggle('solar')">Solar installations</div>
        <div id="neighborhoods" class="on" onclick="toggle('neighborhoods')">Neighborhoods</div>
        <div id="trees" class="off" onclick="toggle('trees')">Trees</div>
        
    </div>
    -->
    <div class="layerControls">
      <div class="controlButtons">
        <h3 style='width:100%;'>Tools</h3>
        <button type='button' class='btn btn-primary' onclick="countTrees()">Count features</button>
      </div>
      <div class="featuresCheckboxes">
        <h3 style='width:100%;'>Features</h3>
        <!--autocomplete="off" to prevent being stuck on check=true after refresh, which can
        only be cleared by revisiting site-->
        <input id="publicClinicLocations" type="checkbox" name="checkFeature" onclick="toggle('publicClinicLocations')" autocomplete="off" checked="true">&nbsp;&nbsp;<label for="publicClinicLocations">Public clinics</label><br/>
        <input id="nonSpecialistPublicHospitalLocations" type="checkbox" name="checkFeature" onclick="toggle('nonSpecialistPublicHospitalLocations')" autocomplete="off">&nbsp;&nbsp;<label for="nonSpecialistPublicHospitalLocations">Non-specialist public hospitals</label><br/>
        <input id="specialistPublicHospitalLocations" type="checkbox" name="checkFeature" onclick="toggle('specialistPublicHospitalLocations')" autocomplete="off">&nbsp;&nbsp;<label for="specialistPublicHospitalLocations">Specialist public hospitals</label><br/>
        <input id="districtBorders" type="checkbox" name="checkFeature" onclick="toggle('districtBorders')" autocomplete="off">&nbsp;&nbsp;<label for="districtBorders">District borders</label><br/>
        <input id="stateBorders" type="checkbox" name="checkFeature" onclick="toggle('stateBorders')" autocomplete="off">&nbsp;&nbsp;<label for="stateBorders">State borders</label><br/>
      </div>
      <div class="heatmapCheckboxes">
        <h3 style='width:100%;'>Heatmaps</h3>
        <h5>Population</h5>
          <input id="statePopulation" type="checkbox" name="checkHeatmap" onclick="onlyOneHeatmap(this); toggle('heatmapStatePopulation');" autocomplete="off">&nbsp;&nbsp;<label for="statePopulation">State population</label><br/>
          <input id="districtPopulation" type="checkbox" name="checkHeatmap" onclick="onlyOneHeatmap(this);toggle('heatmapDistrictPopulation');" autocomplete="off" checked="true">&nbsp;&nbsp;<label for="districtPopulation">District population</label><br/>
        <h5>WHO indices</h5>
          <!--
          <h3 style='text-align: center; width:100%;'>WHO index components</h3>
          <input type="checkbox" name="whoIndex">&nbsp;&nbsp;<span>Population</span><br/>
          <input type="checkbox" name="whoIndex" onclick="onlyOneHeatmap(this);toggle('dummy');">&nbsp;&nbsp;<span>Dummy</span><br/>
          -->
        <h5>Disease</h5>
        <h5>Demographics</h5>
        <input id="birthsPer10kPeople" type="checkbox" name="checkHeatmap" onclick="onlyOneHeatmap(this); toggle('heatmapBirths');" autocomplete="off">&nbsp;&nbsp;<label for="birthsPer10kPeople">Births per 10,000 people</label><br/>
      </div>
    </div>  
    <!--
    <div class='statistics'>
        <h1>Malaysia vs the WHO</h1>
        <div>...Insert progress bars here...</div>
    </div>
    -->

    <div>Footnotes</div>
    <div> 
      WHO overall composite index composed of 5 components. 
      Health level 0.25 Longevity based on average lifespan of males and females 
      Health Distribution 0.25  How accessible and widespread. Based on number of doctors with assumption they are distbuted where needed
      Responsiveness level 0.125 Quality and environment of treatment for patients
      Responsiveness distribution 0.125 Population expectation of standard of healthcare and ability to access health system
      Fairness in financing 0.25 Difference in cost of same treatment between patients of different income level

      Benchmark for calculating health level and health distribution: Japan
      Health level 85.3 years
      Health distribution 20.63 doctors per 10,000 people  
      Assume maximum due to relatively developed status of Malaysia:
      Responsiveness level 0.125
      Responsiveness distribution 0.125 
      Fairness in financing 0.25
    </div>
    <div>Based on this tutorial: <a href='https://developer.here.com/tutorials/green-amsterdam/'>Green-Amsterdam by HERE maps</a></div>
    
    <!--
    <iframe src="https://xyz.here.com/viewer/?project_id=df2b02ca-75cf-414e-957c-5ff9b6da04b9" frameborder="0" style='width: 100%; height: 500px;'></iframe>
    -->
    
    <!-- Contains functions that operates map features. MUST be after 'map' render target in <body> 
        otherwise it cannot find map to work on -->
    <script src="./js/mapFunctions.js"></script>

  </body>
</html>
