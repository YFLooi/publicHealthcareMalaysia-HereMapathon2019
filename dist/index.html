<!doctype html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Public Health Malaysia - EforEffect</title>
    <link rel="icon" href="./favicon.ico?v=3" />
    <!--Style for this website-->
    <link rel="stylesheet" href="./css/style.css" />
    <!--Style for the map itself -->
    <link rel="stylesheet" type="text/css" href="https://unpkg.com/leaflet@1.3.3/dist/leaflet.css" />
    <link rel="stylesheet" type="text/css" href="./css/leaflet-areaselect.css"/>

    <!-- Bootstrap, bundled by webpack -->
    <script src="./bundle.js"></script>

    <!-- Main tangram library -->
    <script src="https://unpkg.com/tangram/dist/tangram.min.js"></script>
    <!-- leaflet.js. Dependency for leaflet-areaselect -->
    <script src="https://unpkg.com/leaflet@1.3.3/dist/leaflet.js"></script>

    <!--leaflet-areaselect allows drawing a bounding box to count no of features in area x-->
    <script type='text/javascript' src='./js/leaflet-areaselect.js'></script>
    <script src="./js/spin.min.js"></script>
    <script src="./js/leaflet.spin.min.js"></script>
   
  </head>
  <body class='container'>
    <h1>Public Healthcare in Malaysia</h1>    
    <div class="mapContainer">
        <div id="map"></div>
    </div>
    <div>**Refresh page to reset. Click to open description</div>

    <!--
    <div id="controls">
        <div id="solar" class="on" onclick="toggle('solar')">Solar installations</div>
        <div id="neighborhoods" class="on" onclick="toggle('neighborhoods')">Neighborhoods</div>
        <div id="trees" class="off" onclick="toggle('trees')">Trees</div>
        
    </div>
    -->
    <div class="layerControls">
      <div class="controlButtons">
        <h3 style='width:100%;'>Tools</h3>
        <button type='button' class='btn btn-primary' onclick="countTrees()">Count clinics</button>
      </div>
      <div class="featuresCheckboxes">
        <h3 style='width:100%;'>Features</h3>
        <!--autocomplete="off" to prevent being stuck on check=true after refresh, which can
        only be cleared by revisiting site-->
        <input id="publicClinicLocations" checked="true" type="checkbox" name="checkFeature" onclick="toggle('publicClinicLocations')" autocomplete="off">&nbsp;&nbsp;<label for="publicClinicLocations">Public clinics</label><br/>
        <input id="nonSpecialistPublicHospitalLocations" type="checkbox" name="checkFeature" onclick="toggle('nonSpecialistPublicHospitalLocations')" autocomplete="off">&nbsp;&nbsp;<label for="nonSpecialistPublicHospitalLocations">Non-specialist public hospitals</label><br/>
        <input id="specialistPublicHospitalLocations" type="checkbox" name="checkFeature" onclick="toggle('specialistPublicHospitalLocations')" autocomplete="off">&nbsp;&nbsp;<label for="specialistPublicHospitalLocations">Specialist public hospitals</label><br/>
        <input id="districtBorders" type="checkbox" name="checkFeature" onclick="toggle('districtBorders')" autocomplete="off">&nbsp;&nbsp;<label for="districtBorders">District borders</label><br/>
        <input id="stateBorders" type="checkbox" name="checkFeature" onclick="toggle('stateBorders')" autocomplete="off">&nbsp;&nbsp;<label for="stateBorders">State borders</label><br/>
      </div>
      <div class="heatmapCheckboxes">
        <h3 style='width:100%;'>Heatmaps</h3>
        <h5>Population</h5>
          <input id="heatmapStatePopulation" type="checkbox" name="checkHeatmap" onclick="onlyOneHeatmap(this); toggle('heatmapStatePopulation');" autocomplete="off">&nbsp;&nbsp;<label for="heatmapStatePopulation">State population</label><br/>
          <input id="heatmapDistrictPopulation" checked="true" type="checkbox" name="checkHeatmap" onclick="onlyOneHeatmap(this);toggle('heatmapDistrictPopulation');" autocomplete="off">&nbsp;&nbsp;<label for="heatmapDistrictPopulation">District population</label><br/>
        <h5>WHO indices</h5>
          <!--
          <h3 style='text-align: center; width:100%;'>WHO index components</h3>
          <input type="checkbox" name="whoIndex">&nbsp;&nbsp;<span>Population</span><br/>
          <input type="checkbox" name="whoIndex" onclick="onlyOneHeatmap(this);toggle('dummy');">&nbsp;&nbsp;<span>Dummy</span><br/>
          -->
        <h5>Disease</h5>
          <input id="heatmapHandFootMouthDisease" type="checkbox" name="checkHeatmap" onclick="onlyOneHeatmap(this); toggle('heatmapHandFootMouthDisease');" autocomplete="off">&nbsp;&nbsp;<label for="heatmapHandFootMouthDisease">Cases of hand-foot-mouth disease</label><br/>
          <input id="heatmapAIDS" type="checkbox" name="checkHeatmap" onclick="onlyOneHeatmap(this); toggle('heatmapAIDS');" autocomplete="off">&nbsp;&nbsp;<label for="heatmapAIDS">Cases of AIDS</label><br/>
          <input id="heatmapHIV" type="checkbox" name="checkHeatmap" onclick="onlyOneHeatmap(this); toggle('heatmapHIV');" autocomplete="off">&nbsp;&nbsp;<label for="heatmapHIV">Cases of HIV</label><br/>
          <input id="heatmapTB" type="checkbox" name="checkHeatmap" onclick="onlyOneHeatmap(this); toggle('heatmapTB');" autocomplete="off">&nbsp;&nbsp;<label for="heatmapTB">Cases of tuberculosis (TB)</label><br/>
          <input id="heatmapMalaria" type="checkbox" name="checkHeatmap" onclick="onlyOneHeatmap(this); toggle('heatmapMalaria');" autocomplete="off">&nbsp;&nbsp;<label for="heatmapMalaria">Cases of malaria</label><br/>
          <input id="heatmapDengue" type="checkbox" name="checkHeatmap" onclick="onlyOneHeatmap(this); toggle('heatmapDengue');" autocomplete="off">&nbsp;&nbsp;<label for="heatmapDengue">Cases of dengue</label><br/>
          <input id="heatmapDengueDeaths" type="checkbox" name="checkHeatmap" onclick="onlyOneHeatmap(this); toggle('heatmapDengueDeaths');" autocomplete="off">&nbsp;&nbsp;<label for="heatmapDengueDeaths">Deaths by dengue</label><br/>
        <h5>Demographics</h5>
          <input id="heatmapBirths" type="checkbox" name="checkHeatmap" onclick="onlyOneHeatmap(this); toggle('heatmapBirths');" autocomplete="off">&nbsp;&nbsp;<label for="heatmapBirths">Births per 10,000 people</label><br/>
        <h5>Infrastructure</h5>
          <input id="heatmapPopulationServedPerPublicClinic" type="checkbox" name="checkHeatmap" onclick="onlyOneHeatmap(this); toggle('heatmapPopulationServedPerPublicClinic');" autocomplete="off">&nbsp;&nbsp;<label for="heatmapPopulationServedPerPublicClinic">Population served per public clinic</label><br/>
          <input id="heatmapPopulationServedPerPrivateClinic" type="checkbox" name="checkHeatmap" onclick="onlyOneHeatmap(this); toggle('heatmapPopulationServedPerPrivateClinic');" autocomplete="off">&nbsp;&nbsp;<label for="heatmapPopulationServedPerPrivateClinic">Population served per private clinic</label><br/>
          <input id="heatmapPopulationServedByAllClinics" type="checkbox" name="checkHeatmap" onclick="onlyOneHeatmap(this); toggle('heatmapPopulationServedByAllClinics');" autocomplete="off">&nbsp;&nbsp;<label for="heatmapPopulationServedByAllClinics">Population served by all clinics</label><br/>
        <h5>Medical staff</h5>
          <input id="heatmapDoctorsPublicHospitals" type="checkbox" name="checkHeatmap" onclick="onlyOneHeatmap(this); toggle('heatmapDoctorsPublicHospitals');" autocomplete="off">&nbsp;&nbsp;<label for="heatmapDoctorsPublicHospitals">Public hospital doctors per 10,000 people</label><br/>
          <input id="heatmapDoctorsPrivateHospitals" type="checkbox" name="checkHeatmap" onclick="onlyOneHeatmap(this); toggle('heatmapDoctorsPrivateHospitals');" autocomplete="off">&nbsp;&nbsp;<label for="heatmapDoctorsPrivateHospitals">Private hospital doctors per 10,000 people</label><br/>
          <input id="heatmapDoctorsAllHospitals" type="checkbox" name="checkHeatmap" onclick="onlyOneHeatmap(this); toggle('heatmapDoctorsAllHospitals');" autocomplete="off">&nbsp;&nbsp;<label for="heatmapDoctorsAllHospitals">All hospital doctors per 10,000 people</label><br/>
          <input id="heatmapDoctorsAllClinics" type="checkbox" name="checkHeatmap" onclick="onlyOneHeatmap(this); toggle('heatmapDoctorsAllClinics');" autocomplete="off">&nbsp;&nbsp;<label for="heatmapDoctorsAllClinics">All clinic doctors per 10,000 people</label><br/>
          <input id="heatmapDoctorsTotal" type="checkbox" name="checkHeatmap" onclick="onlyOneHeatmap(this); toggle('heatmapDoctorsTotal');" autocomplete="off">&nbsp;&nbsp;<label for="heatmapDoctorsTotal">All available doctors per 10,000 people</label><br/>
        
      </div>
    </div>  
    <!--
    <div class='statistics'>
        <h1>Malaysia vs the WHO</h1>
        <div>...Insert progress bars here...</div>
    </div>
    -->

    <div>Footnotes</div>
    <div> 
      WHO overall composite index composed of 5 components. 
      <tbody>
        <tr>
          Health level 0.25 Longevity based on average lifespan of males and females 
        </tr>
        <tr>
          Health Distribution 0.25  How accessible and widespread. Based on number of doctors with assumption they are distbuted where needed
        </tr>
        <tr>
          Responsiveness level 0.125 Quality and environment of treatment for patients
        </tr>
        <tr>
            Responsiveness distribution 0.125 Population expectation of standard of healthcare and ability to access health system
        </tr>
        <tr>
          Fairness in financing 0.25 Difference in cost of same treatment between patients of different income level
        </tr>
      </tbody>

        <div>
            Benchmark for calculating health level and health distribution: Japan<br/>
            Health level 85.3 years<br/>
            Health distribution 20.63 doctors per 10,000 people<br/>
        </div>
        <div>
            Assume maximum due to relatively developed status of Malaysia:<br/>
            Responsiveness level 0.125<br/>
            Responsiveness distribution 0.125 <br/>
            Fairness in financing 0.25<br/>
        </div>
    </div>
    <div>Based on this tutorial: <a href='https://developer.here.com/tutorials/green-amsterdam/'>Green-Amsterdam by HERE maps</a></div>
    
    <!--
    <iframe src="https://xyz.here.com/viewer/?project_id=df2b02ca-75cf-414e-957c-5ff9b6da04b9" frameborder="0" style='width: 100%; height: 500px;'></iframe>
    -->
    
    <!-- Contains functions that operates map features. MUST be after 'map' render target in <body> 
        otherwise it cannot find map to work on -->
    <script src="./js/mapFunctions.js"></script>

  </body>
</html>
