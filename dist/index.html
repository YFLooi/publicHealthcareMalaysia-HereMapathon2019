<!doctype html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Healthcare Malaysia - EforEffect</title>
    <link rel="icon" href="./favicon.ico?v=3" />
    <!--Style for this website-->
    <link rel="stylesheet" href="./css/style.css" />
    <!--Style for the map itself -->
    <link rel="stylesheet" type="text/css" href="https://unpkg.com/leaflet@1.3.3/dist/leaflet.css" />
    <link rel="stylesheet" type="text/css" href="./css/leaflet-areaselect.css"/>

    <!-- Bootstrap, bundled by webpack -->
    <script src="./bundle.js"></script>

    <!-- Main tangram library -->
    <script src="https://unpkg.com/tangram/dist/tangram.min.js"></script>
    <!-- leaflet.js. Dependency for leaflet-areaselect -->
    <script src="https://unpkg.com/leaflet@1.3.3/dist/leaflet.js"></script>

    <!--leaflet-areaselect allows drawing a bounding box to count no of features in area x-->
    <script type='text/javascript' src='./js/leaflet-areaselect.js'></script>
    <script src="./js/spin.min.js"></script>
    <script src="./js/leaflet.spin.min.js"></script>
   
  </head>
  <body class='container'>
    <div style="width:100%; height: 60px; margin-top: 10px; margin-bottom: 10px; overflow-x: visible; background-image: url('./iconFiles/banner.PNG'); background-size: contain; background-repeat: no-repeat;"></div>    
    <div class="mapContainer">
      <div id="map"></div>
      <button type='button' class='btn btn-primary' id="showControlBoxButton" onclick="toggleLayerControlBox('showControlBox')">
        Show controls
      </button>
      <div id="layerControlBox">
        <div class="layerControls">
          <div class="layerControlsHeader">
            <div id="hideControlBoxButton" type='button' onclick="toggleLayerControlBox('hideControlBox')">
              X
            </div>
          </div>
          <div class="layerControlsBody">
            <div class="controlButtons" style="width: 50%; padding: 1%; border: 1px solid black;">
              <h3 style='width:100%;'>Tools</h3>
              <button type='button' class='btn btn-primary' onclick="countFeatures()">Count features</button>
            </div>
            <div class="featuresCheckboxes" style="width: 50%; padding: 1%; border: 1px solid black;">
              <h3 style='width:100%;'>Features</h3>
              <!--autocomplete="off" to prevent being stuck on check=true after refresh, which can
              only be cleared by revisiting site-->
              <input id="publicClinicLocations" type="checkbox" name="checkFeature" onclick="toggle('publicClinicLocations')" autocomplete="off">&nbsp;&nbsp;<label for="publicClinicLocations">Public clinics</label><br/>
              <input id="nonSpecialistPublicHospitalLocations" type="checkbox" name="checkFeature" onclick="toggle('nonSpecialistPublicHospitalLocations')" autocomplete="off">&nbsp;&nbsp;<label for="nonSpecialistPublicHospitalLocations">Non-specialist public hospitals</label><br/>
              <input id="specialistPublicHospitalLocations" type="checkbox" name="checkFeature" onclick="toggle('specialistPublicHospitalLocations')" autocomplete="off">&nbsp;&nbsp;<label for="specialistPublicHospitalLocations">Specialist public hospitals</label><br/>
              <input id="districtBorders" type="checkbox" name="checkFeature" onclick="toggle('districtBorders')" autocomplete="off">&nbsp;&nbsp;<label for="districtBorders">District borders</label><br/>
              <input id="stateBorders" type="checkbox" name="checkFeature" onclick="toggle('stateBorders')" autocomplete="off">&nbsp;&nbsp;<label for="stateBorders">State borders</label><br/>
            </div>
            <div class="heatmapCheckboxes" style="width: 100% ; border: 1px solid black;">
              <h3 style='width:100%; padding: 1%;'>Heatmaps</h3>
              <div class="WHOHeatmaps" style="width: 50%; padding: 0 1%;">
                <h5>WHO indices</h5>
                <div>>1 = Exceed benchmark's (Japan) WHO index</div>
                <input id="heatmapWHOHealthDistribution" type="checkbox" name="checkHeatmap" onclick="onlyOneHeatmap(this); toggle('heatmapWHOHealthDistribution');" autocomplete="off">&nbsp;&nbsp;<label for="heatmapWHOHealthDistribution">Health distribution</label><br/>
                <input id="heatmapWHOHealthLevel" type="checkbox" name="checkHeatmap" onclick="onlyOneHeatmap(this); toggle('heatmapWHOHealthLevel');" autocomplete="off">&nbsp;&nbsp;<label for="heatmapWHOHealthLevel">Health level</label><br/>
                <input id="heatmapWHOHealthIndex" type="checkbox" name="checkHeatmap" onclick="onlyOneHeatmap(this); toggle('heatmapWHOHealthIndex');" autocomplete="off">&nbsp;&nbsp;<label for="heatmapWHOHealthIndex">Overall health index</label><br/>  
              </div>
              <div class="diseaseHeatmaps" style="width: 50%; padding: 0 1%;">
                <h5>Disease</h5>
                <input id="heatmapHandFootMouthDisease" checked="true" type="checkbox" name="checkHeatmap" onclick="onlyOneHeatmap(this); toggle('heatmapHandFootMouthDisease');" autocomplete="off">&nbsp;&nbsp;<label for="heatmapHandFootMouthDisease">Cases of hand-foot-mouth disease</label><br/>
                <input id="heatmapAIDS" type="checkbox" name="checkHeatmap" onclick="onlyOneHeatmap(this); toggle('heatmapAIDS');" autocomplete="off">&nbsp;&nbsp;<label for="heatmapAIDS">Cases of AIDS</label><br/>
                <input id="heatmapHIV" type="checkbox" name="checkHeatmap" onclick="onlyOneHeatmap(this); toggle('heatmapHIV');" autocomplete="off">&nbsp;&nbsp;<label for="heatmapHIV">Cases of HIV</label><br/>
                <input id="heatmapTB" type="checkbox" name="checkHeatmap" onclick="onlyOneHeatmap(this); toggle('heatmapTB');" autocomplete="off">&nbsp;&nbsp;<label for="heatmapTB">Cases of tuberculosis (TB)</label><br/>
                <input id="heatmapMalaria" type="checkbox" name="checkHeatmap" onclick="onlyOneHeatmap(this); toggle('heatmapMalaria');" autocomplete="off">&nbsp;&nbsp;<label for="heatmapMalaria">Cases of malaria</label><br/>
                <input id="heatmapDengue" type="checkbox" name="checkHeatmap" onclick="onlyOneHeatmap(this); toggle('heatmapDengue');" autocomplete="off">&nbsp;&nbsp;<label for="heatmapDengue">Cases of dengue</label><br/>
                <input id="heatmapDengueDeaths" type="checkbox" name="checkHeatmap" onclick="onlyOneHeatmap(this); toggle('heatmapDengueDeaths');" autocomplete="off">&nbsp;&nbsp;<label for="heatmapDengueDeaths">Deaths by dengue</label><br/>
              </div>
              <div class="infrastructureHeatmaps" style="width: 50%; padding: 0 1%;">
                <h5>Infrastructure</h5>
                <input id="heatmapHospitalBeds" type="checkbox" name="checkHeatmap" onclick="onlyOneHeatmap(this); toggle('heatmapHospitalBeds');" autocomplete="off">&nbsp;&nbsp;<label for="heatmapHospitalBeds">Available public hospital beds per 10,000 people</label><br/>
                <input id="heatmapPublicHospitals" type="checkbox" name="checkHeatmap" onclick="onlyOneHeatmap(this); toggle('heatmapPublicHospitals');" autocomplete="off">&nbsp;&nbsp;<label for="heatmapPublicHospitals">Population served per public hospital</label><br/>
                <input id="heatmapPrivateHospitals" type="checkbox" name="checkHeatmap" onclick="onlyOneHeatmap(this); toggle('heatmapPrivateHospitals');" autocomplete="off">&nbsp;&nbsp;<label for="heatmapPrivateHospitals">Population served per private hospital</label><br/>
                <input id="heatmapAllHospitals" type="checkbox" name="checkHeatmap" onclick="onlyOneHeatmap(this); toggle('heatmapPopulationServedPerPublicClinic');" autocomplete="off">&nbsp;&nbsp;<label for="heatmapAllHospitals">Population served by all hospitals</label><br/>
                <input id="heatmapPopulationServedPerPublicClinic" type="checkbox" name="checkHeatmap" onclick="onlyOneHeatmap(this); toggle('heatmapPopulationServedPerPublicClinic');" autocomplete="off">&nbsp;&nbsp;<label for="heatmapPopulationServedPerPublicClinic">Population served per public clinic</label><br/>
                <input id="heatmapPopulationServedPerPrivateClinic" type="checkbox" name="checkHeatmap" onclick="onlyOneHeatmap(this); toggle('heatmapPopulationServedPerPrivateClinic');" autocomplete="off">&nbsp;&nbsp;<label for="heatmapPopulationServedPerPrivateClinic">Population served per private clinic</label><br/>
                <input id="heatmapPopulationServedByAllClinics" type="checkbox" name="checkHeatmap" onclick="onlyOneHeatmap(this); toggle('heatmapPopulationServedByAllClinics');" autocomplete="off">&nbsp;&nbsp;<label for="heatmapPopulationServedByAllClinics">Population served by all clinics</label><br/>
              </div>              
              <div class="medicalStaffHeatmaps" style="width: 50%; padding: 0 1%;">
                <h5>Medical staff</h5>
                <input id="heatmapNurses" type="checkbox" name="checkHeatmap" onclick="onlyOneHeatmap(this); toggle('heatmapNurses');" autocomplete="off">&nbsp;&nbsp;<label for="heatmapNurses">All nurses per 10,000 people</label><br/>
                <input id="heatmapDoctorsPublicHospitals" type="checkbox" name="checkHeatmap" onclick="onlyOneHeatmap(this); toggle('heatmapDoctorsPublicHospitals');" autocomplete="off">&nbsp;&nbsp;<label for="heatmapDoctorsPublicHospitals">Public hospital doctors per 10,000 people</label><br/>
                <input id="heatmapDoctorsPrivateHospitals" type="checkbox" name="checkHeatmap" onclick="onlyOneHeatmap(this); toggle('heatmapDoctorsPrivateHospitals');" autocomplete="off">&nbsp;&nbsp;<label for="heatmapDoctorsPrivateHospitals">Private hospital doctors per 10,000 people</label><br/>
                <input id="heatmapDoctorsAllHospitals" type="checkbox" name="checkHeatmap" onclick="onlyOneHeatmap(this); toggle('heatmapDoctorsAllHospitals');" autocomplete="off">&nbsp;&nbsp;<label for="heatmapDoctorsAllHospitals">All hospital doctors per 10,000 people</label><br/>
                <input id="heatmapDoctorsAllClinics" type="checkbox" name="checkHeatmap" onclick="onlyOneHeatmap(this); toggle('heatmapDoctorsAllClinics');" autocomplete="off">&nbsp;&nbsp;<label for="heatmapDoctorsAllClinics">All clinic doctors per 10,000 people</label><br/>
                <input id="heatmapDoctorsTotal" type="checkbox" name="checkHeatmap" onclick="onlyOneHeatmap(this); toggle('heatmapDoctorsTotal');" autocomplete="off">&nbsp;&nbsp;<label for="heatmapDoctorsTotal">All available doctors per 10,000 people</label><br/>
              </div>
              <div class="populationHeatmaps" style="width: 50%; padding: 0 1%;">
                  <h5>Population</h5>
                  <input id="heatmapStatePopulation" type="checkbox" name="checkHeatmap" onclick="onlyOneHeatmap(this); toggle('heatmapStatePopulation');" autocomplete="off">&nbsp;&nbsp;<label for="heatmapStatePopulation">State population</label><br/>
                  <input id="heatmapDistrictPopulation" type="checkbox" name="checkHeatmap" onclick="onlyOneHeatmap(this);toggle('heatmapDistrictPopulation');" autocomplete="off">&nbsp;&nbsp;<label for="heatmapDistrictPopulation">District population</label><br/>  
                </div>
              <div class="demographicsHeatmaps" style="width: 50%; padding: 0 1%;">
                <h5>Demographics</h5>
                <input id="heatmapBirths" type="checkbox" name="checkHeatmap" onclick="onlyOneHeatmap(this); toggle('heatmapBirths');" autocomplete="off">&nbsp;&nbsp;<label for="heatmapBirths">Births per 10,000 people</label><br/>  
              </div>
            </div>
          </div>
        </div>  
      </div>
    </div>
    <div class="mapDescription">**Refresh page to reset. Click to open description</div>
    <p></p>
    <p></p>
    <div class='progressBars'>
        <h3>Malaysia's health system vs the world's</h3>
        <div>Sources: <a href='https://data.worldbank.org/indicator/SH.MED.BEDS.ZS'>World Bank</a>, <a href="data.gov.my">data.gov.my</a></div>
        <h5><img src="./iconFiles/doctor.png" style="width:32px; height:32px;"/> Doctors per 10,000 people</h5>
        <div><b>National average</b></div>
        <div class="progressBarBox">
          <div class="progressBar" style="background-color: rgb(0, 183, 255); width: 38%;">Global average - 15.0</div>    
          <div class="progressBar" style="background-color: red; width: 60%;">Japan average - 24.0</div>
          <div class="progressBar" style="background-color: rgba(255, 255, 0, 0.432); width: 39%;">Malaysia average - 15.8</div>
        </div>
        <div><b>By state</b></div>
        <div class="progressBarBox">
          <div class="progressBar" style="background-color: rgb(0, 0, 255); width: 30%;">Johor - 12.1</div>    
          <div class="progressBar" style="background-color: rgb(207, 56, 56); width: 36%;">Kedah - 14.2</div>
          <div class="progressBar" style="background-color: rgba(104, 59, 104, 0.432); width: 30%;">Kelantan - 11.9</div>
          <div class="progressBar" style="background-color: rgb(46, 46, 77); width: 51%;">Melaka - 20.5</div>    
          <div class="progressBar" style="background-color: rgb(5, 5, 5); width: 53%;">Negeri Sembilan - 21.0</div>
          <div class="progressBar" style="background-color: rgba(0, 255, 0, 0.432); width: 35%;">Pahang - 13.9</div>
          <div class="progressBar" style="background-color: rgba(255, 136, 0, 0.432); width: 42%;">Perak - 16.6</div>
          <div class="progressBar" style="background-color: rgba(0, 255, 191, 0.432); width: 54%;">Perlis - 21.7</div>
          <div class="progressBar" style="background-color: rgba(0, 68, 255, 0.432); width: 50%;">Pulau Pinang - 20.1</div>
          <div class="progressBar" style="background-color: rgba(55, 0, 255, 0.432); width: 22%;">Sabah - 8.9</div>
          <div class="progressBar" style="background-color: rgba(204, 0, 255, 0.432); width: 35%;">Sarawak - 14.0</div>
          <div class="progressBar" style="background-color: rgba(255, 0, 212, 0.432); width: 41%;">Selangor - 16.4</div>
          <div class="progressBar" style="background-color: rgba(255, 0, 119, 0.432); width: 37%;">Terengganu - 14.8</div>
          <div class="progressBar" style="background-color: rgba(59, 19, 78, 0.432); width: 83%;">W.P. Kuala Lumpur - 33.4</div>
          <div class="progressBar" style="background-color: rgba(82, 31, 11, 0.432); width: 22%;">W.P. Labuan - 8.7</div>
          <div class="progressBar" style="background-color: rgba(129, 143, 4, 0.432); width: 26%;">W.P. Putrajaya - 10.2</div>
        </div>
        <p></p>
        <h5><img src="./iconFiles/hospitalBed.png" style="width:32px; height:32px;"/> Hospital beds per 10,000 people</h5>
        <div><b>National average</b></div>
        <div class="progressBarBox">
          <div class="progressBar" style="background-color: rgb(0, 183, 255); width: 39%;">Global average - 27.0</div>    
          <div class="progressBar" style="background-color: red; width: 100%;">Japan average - 134.0</div>
          <div class="progressBar" style="background-color: rgba(255, 255, 0, 0.432); width: 28%;">Malaysia average - 19.8</div>
        </div>
        <div><b>By state</b></div>
        <div class="progressBarBox">
          <div class="progressBar" style="background-color: rgb(0, 0, 255); width: 25%;">Johor - 13.8</div>    
          <div class="progressBar" style="background-color: rgb(207, 56, 56); width: 23%;">Kedah - 12.3</div>
          <div class="progressBar" style="background-color: rgba(104, 59, 104, 0.432); width: 25%;">Kelantan - 13.8</div>
          <div class="progressBar" style="background-color: rgb(46, 46, 77); width: 22%;">Melaka - 15.3</div>    
          <div class="progressBar" style="background-color: rgb(5, 5, 5); width: 28%;">Negeri Sembilan - 16.2</div>
          <div class="progressBar" style="background-color: rgba(0, 255, 0, 0.432); width: 25%;">Pahang - 13.9</div>
          <div class="progressBar" style="background-color: rgba(255, 136, 0, 0.432); width: 37%;">Perak - 22.1</div>
          <div class="progressBar" style="background-color: rgba(0, 255, 191, 0.432); width: 27%;">Perlis - 15.7</div>
          <div class="progressBar" style="background-color: rgba(0, 68, 255, 0.432); width: 22%;">Pulau Pinang - 12.0</div>
          <div class="progressBar" style="background-color: rgba(55, 0, 255, 0.432); width: 22%;">Sabah - 12.0</div>
          <div class="progressBar" style="background-color: rgba(204, 0, 255, 0.432); width: 26%;">Sarawak - 14.2</div>
          <div class="progressBar" style="background-color: rgba(255, 0, 212, 0.432); width: 17%;">Selangor - 8.4</div>
          <div class="progressBar" style="background-color: rgba(255, 0, 119, 0.432); width: 24%;">Terengganu - 13.3</div>
          <div class="progressBar" style="background-color: rgba(59, 19, 78, 0.432); width: 44%;">W.P. Kuala Lumpur - 27.3</div>
          <div class="progressBar" style="background-color: rgba(82, 31, 11, 0.432); width: 22%;">W.P. Labuan - 12.2</div>
          <div class="progressBar" style="background-color: rgba(129, 143, 4, 0.432); width: 85%;">W.P. Putrajaya - 59.3</div>
        </div>
    </div>
    <p></p>
    <p></p>
    <div class="footnotes"> 
      <h3>Footnotes</h3>
      <b>WHO overall health index has 5 components:</b>
      <table style="overflow-x: scroll;">
        <tr>
          <th>Index component</th>
          <th>Maximum score</th>
          <th>Calculation</th>
          <th>Description</th>
        </tr>
        <tr>
          <td>Health level</td>
          <td>0.25</td>
          <td>Average combined lifespan in Malaysia / Benchmark's</td>
          <td>Longevity based on combined average lifespan of males and females</td>
        </tr>
        <tr>
          <td>Health Distribution</td>
          <td>0.25</td>
          <td>Total doctors in Malaysia per 10,000 people / Benchmark's</td>
          <td>How accessible and widespread. Based on number of doctors with assumption they are distbuted where needed</td>             
        </tr>
        <tr>
          <td>Responsiveness level</td>
          <td>0.125</td>
          <td>Assigned on level of development</td>
          <td>Quality and environment of treatment for patients</td>
        </tr>
        <tr>
          <td>Responsiveness distribution</td>
          <td>0.125</td>
          <td>Assigned on level of development</td>
          <td>Population expectation of standard of healthcare and ability to access health system</td>
        </tr>
        <tr>
          <td>Fairness in financing</td>
          <td>0.25</td>
          <td>Assigned on level of development</td>
          <td>Difference in cost of same treatment between patients of different income level</td>
        </tr>
      </table>
      <div>
          <u><b>Japan</b> used as benchmark for calculating:</u> <br/>
          <b>Health level</b> - Averaged combined lifespan of 85.3 years<br/>
          <b>Health distribution</b> - 20.63 doctors per 10,000 people<br/>
      </div>
      <p>
          Due to the relatively developed status of Malaysia, <b>responsiveness level, responsiveness distribution,
          and fairness in financing</b> were assumed to be at maximum score <br/>
      </p>
    </div>
    
    <!-- Contains functions that operates map features. MUST be after 'map' render target in <body> 
        otherwise it cannot find map to work on -->
    <script src="./js/mapFunctions.js"></script>

  </body>
</html>
